SantaParavia.net Design

Database Tables
---------------
- games:  CREATE TABLE `games` (`id` int(10) unsigned NOT NULL auto_increment, `diffculty` int(1) unsigned NOT NULL, `number_of_players` int(1) unsigned NOT NULL, `which_player_turn` int(1) unsigned NOT NULL, `which_turn_step` int(1) unsigned NOT NULL, `year` int(10) unsigned NOT NULL, `game_over` tinyint(1) NOT NULL default '0', PRIMARY KEY  (`id`)) ENGINE=InnoDB DEFAULT CHARSET=latin1
- history:  CREATE TABLE `history` (`id` int(10) unsigned NOT NULL auto_increment,`game_id` int(11) NOT NULL,`dateTime` datetime NOT NULL,`log_entry` varchar(255) NOT NULL,UNIQUE KEY `id` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=latin1
- messages:  CREATE TABLE `messages` (`id` int(10) unsigned NOT NULL auto_increment,`game_id` int(11) NOT NULL,`player_id` int(11) NOT NULL,`date_time` datetime NOT NULL,`message` varchar(255) NOT NULL,UNIQUE KEY `id` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=latin1
- news:  CREATE TABLE `news` (`id` int(11) NOT NULL auto_increment,`date` date NOT NULL,`title` varchar(45) NOT NULL,`body` longtext NOT NULL,PRIMARY KEY  (`id`)) ENGINE=InnoDB DEFAULT CHARSET=latin1
- players:  CREATE TABLE `players` (`id` int(11) unsigned NOT NULL auto_increment,`user_id` int(11) unsigned NOT NULL,`title` char(15) default NULL,`city` char(15) default NULL,`cathedral` int(11) default NULL,`clergy` int(11) default NULL,`customs_duty` int(11) default NULL,`customs_duty_revenue` int(11) default NULL,`dead_serfs` int(11) default NULL,`fleeing_serfs` int(11) default NULL,`grain_demand` int(11) default NULL,`grain_price` int(11) default NULL,`grain_reserve` int(11) default NULL,`harvest` int(11) default NULL,`income_tax` int(11) default NULL,`income_tax_revenue` int(11) default NULL,`justice` int(11) default NULL,`justice_revenue` int(11) default NULL,`land` int(11) default NULL,`marketplaces` int(11) default NULL,`market_revenue` int(11) default NULL,`merchants` int(11) default NULL,`mills` int(11) default NULL,`mills_revenue` int(11) default NULL,`new_serfs` int(11) default NULL,`nobles` int(11) default NULL,`old_title` int(11) default NULL,`palace` int(11) default NULL,`rats_ate` int(11) default NULL,`sales_tax` int(11) default NULL,`sales_tax_revenue` int(11) default NULL,`serfs` int(11) default NULL,`soldiers` int(11) default NULL,`soldiers_pay` int(11) default NULL,`title_num` int(11) default NULL,`transplanted_serfs` int(11) default NULL,`treasury` int(11) default NULL,`year_of_death` int(11) default NULL,`public_works` float default NULL,`land_price` float default NULL,`invade_me` tinyint(1) default NULL,`is_bankrupt` tinyint(1) default NULL,`is_dead` tinyint(1) default NULL,`i_won` tinyint(1) default NULL,`male_or_female` tinyint(1) default NULL,`new_title` tinyint(1) default NULL,`game_id` int(10) unsigned NOT NULL,PRIMARY KEY  (`id`)) ENGINE=InnoDB DEFAULT CHARSET=latin1
//- provinces:  CREATE TABLE `provinces` (`id` int(11) NOT NULL, `province` varchar(15) NOT NULL, `crest` longtext NOT NULL, `compplayer` varchar(10) NULL, `compgender` varchar(1) NULL, PRIMARY KEY  (`id`)) ENGINE=InnoDB DEFAULT CHARSET=latin1
//- titles:  CREATE TABLE `titles` (`id` int(11) NOT NULL,`gender` char(1) NOT NULL,`title` char(15) NOT NULL,PRIMARY KEY  (`id`)) ENGINE=InnoDB DEFAULT CHARSET=latin1
- users:  CREATE TABLE `users` (`id` int(10) unsigned NOT NULL auto_increment,`join_date` timestamp DEFAULT CURRENT_TIMESTAMP,`display_name` varchar(25) NOT NULL,`full_name` varchar(50) NOT NULL,`email_address` varchar(50) NOT NULL,`password_hash` varchar(255) NOT NULL,`password_reset_hash` varchar(64) NULL,`password_reset_expires_at` datetime NULL, `activation_hash` varchar(64) NOT NULL,`member` tinyint(1) NOT NULL default '0',`membership_expires` datetime NOT NULL,`email_frequency` tinyint(1) NOT NULL default '0',`email_delay` tinyint(1) NOT NULL default '0',`comment_rec` tinyint(1) NOT NULL default '0',`turn_in_progress` tinyint(1) NOT NULL default '0',`tourney_invite` tinyint(1) NOT NULL default '0',`time_zone` tinyint(2) NOT NULL default '3',`img_url` varchar(255) default NULL,`allow_game_invite` tinyint(1) NOT NULL default '0',`allow_tourney_invite` tinyint(1) NOT NULL default '0',`is_admin` tinyint(1) NOT NULL default '0',`is_active` tinyint(1) NOT NULL,PRIMARY KEY  (`id`)) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=latin1
- remembered_logins: CREATE TABLE remembered_logins (`token_hash` varchar(64) NOT NULL,`user_id` int(11) NOT NULL,`expires_at` datetime NOT NULL,PRIMARY KEY (`token_hash`),KEY `user_id` (`user_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;

dbname: paravia
dbuser: paravia_dba
dbpwd:  5@nt4Par8v1a!
email:  santa.paravia.and.fiumaccio@gmail.com
empwd:  5@nt4_Par8v1a!
CREATE USER IF NOT EXISTS 'paravia_dba'@'localhost' IDENTIFIED BY '5@nt4Par8v1a!';
GRANT USAGE ON paravia.* TO 'paravia_dba'@'localhost'
GRANT ALL PRIVILEGES ON paravia.* TO 'paravia_dba'@'localhost';

passwordHash phrase:  Sup3rC@lifr6g1li$ticExpi4lid0tiOu5!

User Flow (incomplete)
---------
1.  Go to santaparavia.com
2.  Login page
	a. Registration page
	b. Registration completion page
3.  User logs in
	a.  If user successfully logs in, go to 4.
	b.  If user fails to log in, display error and go to 2.
4.  Display home page w/user's dashboard.
5.  Home Tab Options
	a.  Start a Game
6.  Play Tab Options
	a.  Game List Tab
	b.  New Game Tab
7.  Compete Tab Options
	a.  Tourney Game List Tab
	b.  New Tourney Game Tab
8.  Settings Tab Options
	a.  Email Tab
	b.  Password Tab
	c.  TimeZone Tab
	d.  Account Tab
	e.  Display Tab
	f.  Recruit Tab
	g.  QuickPick Tab
9.  Help Tab Options
	a.  Documentation Tab
	b.  Feedback Tab
10. Admin Tab Options (only available if admin flag is true)
	a.  User Admin
	b.  Game Admin
	c.  Documentation Admin
10. Logout

Screenshots
-----------
https://www.mobygames.com/game/windows/santa-paravia-and-fiumaccio__/screenshots/gameShotId,788094/

Web Pages (incomplete)
---------
- Home
	- Dashboard (News, # of games that are user's turn, # of games waiting for players)
          - Blog ???
          - Status
            - Your turn in # games
            - You have # tournament invites
            - Your profile has # comments
          - Start Game link
          - Top Players
- Play
	- My Games List
		- Game Play
			- Year Begins (weather, harvest, rats)
			- Release Grain for Consumption
			- Stats (serfs born, serfs died, serfs moved, serfs imigrated, soldiers paid, marketplaces earned, woolen mills earned)
			- Taxes (Customs Duty Tax, Income Tax, Sales Tax, Justice)
			- Purchasing (Marketplace, Woolen Mill, Palace (partial), Cathedral (partial), Equip platoon of 20 serfs)
			- Standings
			- Map
	- Create New Game
	  - Add players
	  - Select difficulty
	  - Regular or Tournament Game
	- Settings
	  - Emails
	  - Password
	  - Timezone
	  - Account
	  - Display
	  - Recruit
	  - Quickpick
	  - Plugins
	  - Payments


Classes
-------
- db_func_class.php:  This file contains all the database functions for Santa Paravia Online.
- gameplay_ui_class.php: 	This file contains all the game play UI functions for Santa Paravia Online.
- home_ui_class.php:  This file contains all the home page UI functions for Santa Paravia Online.
- main_ui_class.php:  This file contains the main UI functions for Santa Paravia Online.
- misc_func_class.php:  This file contains all the miscellaneous functions for Santa Paravia Online.
- msg_func_class.php:  This file contains all the messaging functions for Santa Paravia Online.
- newgame_ui_class.php:  This file contains all the functions required to create a new game on Santa Paravia Online.
- opengames_ui_class.php:  This file contains all the functions to track all open games on Santa Paravia Online.
- origgame_func_class.php:  This file contains all the original game functions for game play on Santa Paravia Online.
- settings_ui_class.php:  This file contains all the settings UI functions for Santa Paravia Online.
- tourngame_func_class.php:  This file contains all the tournament game functions for game play on Santa Paravia Online.
- user_func_class.php:  This file contains all user related functions for Santa Paravia Online.

